<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
<comment>board-sql-lhk.xml</comment>

	<!-- 검색창 검색 -->
	<entry key="searchList">
		<!-- SELECT BOARD_NO,BOARD_TITLE,BOARD_CONTENT,READ_COUNT,CTGR_NM,BOARD_CD,CTGR_NO,IMG_RENAME,IMG_LEVEL
		FROM BOARD
		JOIN CATEGORY USING(CTGR_NO)
		LEFT JOIN BOARD_IMG USING(BOARD_NO)
		WHERE (BOARD_TITLE LIKE '%' || ? || '%' 
		OR BOARD_CONTENT LIKE '%' || ? || '%'
		OR CTGR_NM LIKE '%' || ? || '%')
		AND (IMG_LEVEL = 0 OR IMG_LEVEL IS NULL)
		AND BOARD_CD IN (1,2,3,4)
	    AND BOARD_ST = 'N' -->
	    
	    SELECT * FROM(
				SELECT ROWNUM RNUM, A.* FROM(
				SELECT BOARD_NO,BOARD_TITLE,BOARD_CONTENT,READ_COUNT,CTGR_NM,BOARD_CD,CTGR_NO,IMG_RENAME,IMG_LEVEL
				FROM BOARD
				JOIN CATEGORY USING(CTGR_NO)
				LEFT JOIN BOARD_IMG USING(BOARD_NO)
				WHERE (BOARD_TITLE LIKE '%' || ? || '%' 
				OR BOARD_CONTENT LIKE '%' || ? || '%'
				OR CTGR_NM LIKE '%' || ? || '%')
				AND (IMG_LEVEL = 0 OR IMG_LEVEL IS NULL)
				AND BOARD_CD IN (1,4)
			    AND BOARD_ST = 'N') A
		        )
		WHERE RNUM BETWEEN ? AND ?   
	</entry>
	
	<!-- 검색후 지역검색 버튼 -->
	
	<entry key="travelInfos">
		SELECT * FROM(
				SELECT ROWNUM RNUM, A.* FROM(
				SELECT BOARD_NO,BOARD_TITLE,BOARD_CONTENT,READ_COUNT,CTGR_NM,BOARD_CD,CTGR_NO,IMG_RENAME,IMG_LEVEL
				FROM BOARD
				JOIN CATEGORY USING(CTGR_NO)
				LEFT JOIN BOARD_IMG USING(BOARD_NO)
				WHERE (BOARD_TITLE LIKE '%' || ? || '%' 
				OR BOARD_CONTENT LIKE '%' || ? || '%'
				OR CTGR_NM LIKE '%' || ? || '%')
				AND (IMG_LEVEL = 0 OR IMG_LEVEL IS NULL)
				AND BOARD_CD IN (1)
			    AND BOARD_ST = 'N') A
		        )
		WHERE RNUM BETWEEN ? AND ?  
	</entry>
	
	<!-- 검색후 여행리뷰 버튼 -->
	
	<entry key="travelReview">
		SELECT * FROM(
				SELECT ROWNUM RNUM, A.* FROM(
				SELECT BOARD_NO,BOARD_TITLE,BOARD_CONTENT,READ_COUNT,CTGR_NM,BOARD_CD,CTGR_NO,IMG_RENAME,IMG_LEVEL
				FROM BOARD
				JOIN CATEGORY USING(CTGR_NO)
				LEFT JOIN BOARD_IMG USING(BOARD_NO)
				WHERE (BOARD_TITLE LIKE '%' || ? || '%' 
				OR BOARD_CONTENT LIKE '%' || ? || '%'
				OR CTGR_NM LIKE '%' || ? || '%')
				AND (IMG_LEVEL = 0 OR IMG_LEVEL IS NULL)
				AND BOARD_CD IN (4)
			    AND BOARD_ST = 'N') A
		        )
		WHERE RNUM BETWEEN ? AND ? 
	</entry>
	
	<!-- 검색후 전체 버튼  -->
	 
	<entry key="travelAll">
		SELECT * FROM(
				SELECT ROWNUM RNUM, A.* FROM(
				SELECT BOARD_NO,BOARD_TITLE,BOARD_CONTENT,READ_COUNT,CTGR_NM,BOARD_CD,CTGR_NO,IMG_RENAME,IMG_LEVEL
				FROM BOARD
				JOIN CATEGORY USING(CTGR_NO)
				LEFT JOIN BOARD_IMG USING(BOARD_NO)
				WHERE (BOARD_TITLE LIKE '%' || ? || '%' 
				OR BOARD_CONTENT LIKE '%' || ? || '%'
				OR CTGR_NM LIKE '%' || ? || '%')
				AND (IMG_LEVEL = 0 OR IMG_LEVEL IS NULL)
				AND BOARD_CD IN (1,4)
			    AND BOARD_ST = 'N') A
		        )
		WHERE RNUM BETWEEN ? AND ? 
	</entry>
	
	<!-- 검색후 전체 리스트 카운트 -->
	
	<entry key="getListCount">
		SELECT COUNT(A.BOARD_NO)
			FROM
			(SELECT BOARD_NO,BOARD_TITLE,BOARD_CONTENT,READ_COUNT,CTGR_NM,BOARD_CD,CTGR_NO,IMG_RENAME,IMG_LEVEL
				FROM BOARD
				JOIN CATEGORY USING(CTGR_NO)
				LEFT JOIN BOARD_IMG USING(BOARD_NO)
				WHERE (BOARD_TITLE LIKE '%' || ? || '%' 
				OR BOARD_CONTENT LIKE '%' || ? || '%'
				OR CTGR_NM LIKE '%' || ? || '%')
				AND (IMG_LEVEL = 0 OR IMG_LEVEL IS NULL)
				AND BOARD_CD IN (1,4)
			    AND BOARD_ST = 'N') A
	
	</entry>
	
	<!-- 지역 게시판 카운트 -->
	
	<entry key="getListCount1">
		SELECT COUNT(A.BOARD_NO)
			FROM
			(SELECT BOARD_NO,BOARD_TITLE,BOARD_CONTENT,READ_COUNT,CTGR_NM,BOARD_CD,CTGR_NO,IMG_RENAME,IMG_LEVEL
				FROM BOARD
				JOIN CATEGORY USING(CTGR_NO)
				LEFT JOIN BOARD_IMG USING(BOARD_NO)
				WHERE (BOARD_TITLE LIKE '%' || ? || '%' 
				OR BOARD_CONTENT LIKE '%' || ? || '%'
				OR CTGR_NM LIKE '%' || ? || '%')
				AND (IMG_LEVEL = 0 OR IMG_LEVEL IS NULL)
				AND BOARD_CD IN (1)
			    AND BOARD_ST = 'N') A
	
	</entry>
	
	<!-- 여행 리뷰 카운트 -->
	
	<entry key="getListCount2">
		SELECT COUNT(A.BOARD_NO)
			FROM
			(SELECT BOARD_NO,BOARD_TITLE,BOARD_CONTENT,READ_COUNT,CTGR_NM,BOARD_CD,CTGR_NO,IMG_RENAME,IMG_LEVEL
				FROM BOARD
				JOIN CATEGORY USING(CTGR_NO)
				LEFT JOIN BOARD_IMG USING(BOARD_NO)
				WHERE (BOARD_TITLE LIKE '%' || ? || '%' 
				OR BOARD_CONTENT LIKE '%' || ? || '%'
				OR CTGR_NM LIKE '%' || ? || '%')
				AND (IMG_LEVEL = 0 OR IMG_LEVEL IS NULL)
				AND BOARD_CD IN (4)
			    AND BOARD_ST = 'N') A
	</entry>
	
	<!-- 전체 검색 카운트 -->
	
	<entry key="getListCount3">
		SELECT COUNT(A.BOARD_NO)
			FROM
			(SELECT BOARD_NO,BOARD_TITLE,BOARD_CONTENT,READ_COUNT,CTGR_NM,BOARD_CD,CTGR_NO,IMG_RENAME,IMG_LEVEL
				FROM BOARD
				JOIN CATEGORY USING(CTGR_NO)
				LEFT JOIN BOARD_IMG USING(BOARD_NO)
				WHERE (BOARD_TITLE LIKE '%' || ? || '%' 
				OR BOARD_CONTENT LIKE '%' || ? || '%'
				OR CTGR_NM LIKE '%' || ? || '%')
				AND (IMG_LEVEL = 0 OR IMG_LEVEL IS NULL)
				AND BOARD_CD IN (1,4)
			    AND BOARD_ST = 'N') A
	</entry>
	
	
	
	
	
	

</properties>
